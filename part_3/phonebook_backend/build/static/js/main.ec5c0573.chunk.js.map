{"version":3,"sources":["components/Title.js","components/Person.js","components/DisplayPersons.js","components/FilterPerson.js","components/NewPerson.js","services/numbers.js","components/Notification.js","App.js","index.js"],"names":["Title","text","Person","person","handleDelete","name","number","onClick","id","DisplayPersons","persons","map","FilterPerson","newSearch","handleNewSearch","value","onChange","NewPerson","addPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","baseUrl","newObject","axios","post","then","response","data","get","delete","put","Notification","message","status","console","log","className","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","setMessage","setStatus","useEffect","numberService","initialPersons","personsToShow","length","filter","toUpperCase","includes","event","target","preventDefault","find","window","confirm","returnedPerson","catch","error","setTimeout","handleUpdate","concat","personError","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ec5c0573.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Title = ({ text }) => <h1>{text}</h1>\r\n\r\nexport default Title","import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n    return (\r\n        <li>\r\n            {person.name} {person.number} <button onClick={() => handleDelete(person.id)}>delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst DisplayPersons = ({ persons, handleDelete }) => {\r\n    return (\r\n        <div>\r\n            <ul>\r\n                {\r\n                    persons.map(person => {\r\n                        return (\r\n                            <Person key={person.id} person={person} handleDelete={handleDelete} />\r\n                        )\r\n                    })\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DisplayPersons","import React from 'react'\r\n\r\nconst FilterPerson = ({ newSearch, handleNewSearch }) => {\r\n    return (\r\n        <div>\r\n            filter shown with\r\n            <input\r\n                value={newSearch}\r\n                onChange={handleNewSearch}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FilterPerson","import React from 'react'\r\n\r\nconst NewPerson = ({ addPerson, newName, handleNewName, newNumber, handleNewNumber }) => {\r\n    return (\r\n        <form onSubmit={addPerson}>\r\n            <div>\r\n                name: <input value={newName} onChange={handleNewName} />\r\n                <br />\r\n                number: <input value={newNumber} onChange={handleNewNumber} />\r\n            </div>\r\n            <div>\r\n                <button type='submit'>add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default NewPerson","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { create, getAll, deletePerson, update }","import React from 'react'\r\n\r\nconst Notification = ({ message, status }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n    console.log(status);\r\n    return (\r\n        <div className={status}>\r\n            <p>{message}</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Title from './components/Title'\nimport DisplayPersons from './components/DisplayPersons'\nimport FilterPerson from './components/FilterPerson'\nimport NewPerson from './components/NewPerson'\nimport numberService from './services/numbers'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [message, setMessage] = useState(null)\n  const [status, setStatus] = useState(null)\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNewSearch = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  const handleDelete = (id) => {\n    if (window.confirm('are u sure m8?')) {\n      numberService\n        .deletePerson(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n        .catch((error) => {\n          const personError = persons.find(person => person.id === id)\n          setMessage(\n            `information of ${personError.name} has already been removed from server`\n          )\n          setStatus('error')\n\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  useEffect(() => {\n    numberService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const objPerson = (name, number) => {\n      const newPerson = {\n        name: name,\n        number: number\n      }\n\n      numberService\n        .create(newPerson)\n        .then((returnedPerson) => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage(\n            `Added ${returnedPerson.name}`\n          )\n          setStatus('add')\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setMessage(\n            `error: ${error.response.data}`\n          )\n          setStatus('error')\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n\n    const handleUpdate = (name, number) => {\n      const { id } = persons.find(person => person.name === newName)\n\n      const newObject = { name, number }\n\n      if (window.confirm(`${newName} is already added to phonebook, would u like to overwrite it?`)) {\n        numberService\n          .update(id, newObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          })\n          .catch(error => {\n            /*setPersons(persons.filter(person => person.id !== id))\n            setMessage(\n              `information of ${newObject.name} has already been removed from server`\n            )\n            setStatus('error')\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)*/\n            console.log(error.response.data)\n            setMessage(\n              `error: ${error.response.data}`\n            )\n            setStatus('error')\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000)\n          })\n      }\n    }\n\n    persons.find(person => person.name === newName)\n      ? handleUpdate(newName, newNumber)\n      : objPerson(newName, newNumber)\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const personsToShow = newSearch.length === 0\n    ? persons\n    : persons.filter(person => person.name.toUpperCase().includes(newSearch.toUpperCase()) > 0)\n\n  return (\n    <div>\n      <Title text='Phonebook' />\n      <Notification message={message} status={status} />\n      <FilterPerson newSearch={newSearch} handleNewSearch={handleNewSearch} />\n      <Title text='Add a new' />\n      <NewPerson addPerson={addPerson} newName={newName} handleNewName={handleNewName} newNumber={newNumber} handleNewNumber={handleNewNumber} />\n      <Title text='Numbers' />\n      <DisplayPersons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}